<ion-header>
  <ion-toolbar>
    <ion-title>Perfil</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logOut()">Cerrar Sesión</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <div *ngIf="isLoggedIn; else notLoggedIn">
    <ion-item>
      <ion-avatar slot="start">
        <img [src]="imagenAvatar ? imagenAvatar : 'assets/default-avatar.png'" alt="Avatar" />
      </ion-avatar>
      <ion-label>
        <h2>{{ username }}</h2>
        <h3>{{ email }}</h3>
      </ion-label>
    </ion-item>

    <!-- Input para cambiar imagen -->
    <input type="file" accept="image/*" (change)="cambiarImagen($event)" />

    <!-- Botón para actualizar perfil -->
    <ion-button expand="full" (click)="actualizarPerfil()">Actualizar Perfil</ion-button>

    <ion-button expand="full" (click)="goToSettings()">Configuración</ion-button>
    <ion-button expand="full" (click)="goToCompras()">Mis Compras</ion-button>
  </div>

  <ng-template #notLoggedIn>
    <div class="not-logged-in">
      <h2>No estás logueado</h2>
      <ion-button expand="full" (click)="goToLogin()">Iniciar Sesión</ion-button>
    </div>
  </ng-template>
</ion-content>